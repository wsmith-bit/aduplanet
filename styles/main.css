/* ====== Layout & Shell ====== */
body { font-family: Arial, sans-serif; }
.wrap{max-width:1120px;margin:0 auto;padding:0 20px}
header{position:sticky;top:0;z-index:50;background:linear-gradient(180deg,rgba(11,18,32,0.95),rgba(11,18,32,0.75));backdrop-filter:saturate(1.2) blur(8px);border-bottom:1px solid var(--line)}
.nav{display:flex;align-items:center;gap:20px;padding:16px 0}
.nav img{height:32px;width:auto}
.nav a{padding:10px 12px;border-radius:12px;color:inherit;text-decoration:none}
.nav a:hover{text-decoration:underline}
.nav a[aria-current="page"]{background:var(--card);outline:1px solid var(--line)}
.footer-links{display:flex;gap:14px;flex-wrap:wrap}
footer{border-top:1px solid var(--line);padding:28px 0 40px;color:var(--muted)}

/* ====== Theming — Light default, Dark via [data-theme="dark"] ====== */
/* Light (default) — WCAG AA on white */
:root{
  --bg:#ffffff;
  --surface:#ffffff;
  --ink:#0b0f19;        /* body text */
  --ink-2:#0b0f19;      /* headings */
  --muted:#1f2937;      /* secondary */
  --link:#1e40af;       /* blue-800 */
  --link-visited:#6b21a8;/* purple-800 */
  --focus-ring:#1e40af;
  --line:#cbd5e1;       /* slate-300 */
  --line-2:#94a3b8;     /* slate-400 */
  --card:#ffffff;       /* light card bg */
}

html,body{background:var(--bg);color:var(--ink)}
h1,h2,h3,h4{color:var(--ink-2);font-weight:700}
p,li,dd,dt,summary,.sub,.fresh,figcaption{color:var(--ink)}
.sub,.fresh,figcaption{color:var(--muted)}
a{color:var(--link);text-underline-offset:2px}
a:hover{text-decoration:underline}
a:visited{color:var(--link-visited)}

.btn{color:var(--ink-2);background:#fff;border:1px solid var(--line-2);border-radius:12px;padding:10px 14px;font-weight:600}
.btn.primary{background:#1e40af;border-color:#1e40af;color:#fff} /* AA */
.pill{color:var(--ink);background:#fff;border:1px solid var(--line-2)}
.card{background:var(--surface);border:1px solid var(--line);border-radius:18px;box-shadow:0 1px 2px rgba(0,0,0,.04)}
input,select,textarea{color:var(--ink);background:#fff;border:1px solid var(--line-2)}
::placeholder{color:#334155;opacity:1}
:focus-visible{outline:3px solid var(--focus-ring);outline-offset:2px}
small,.fresh,figcaption{font-size:clamp(14px,0.9rem,16px)}

/* Dark theme — opt-in per page by setting <html data-theme="dark"> */
html[data-theme="dark"]{
  --bg:#0b1220;
  --surface:#0f172a;             /* slate-900 */
  --ink:rgba(255,255,255,.92);
  --ink-2:#ffffff;
  --muted:#cbd5e1;
  --link:#93c5fd;                /* sky-300 */
  --link-visited:#d6bcfa;        /* purple-300 */
  --focus-ring:#93c5fd;
  --line:rgba(255,255,255,0.18);
  --line-2:rgba(255,255,255,0.28);
  --card:rgba(255,255,255,0.06);
}

/* Make header readable in both themes */
header{color:var(--ink-2)}
header .nav a{color:inherit}

/* ====== Utilities for dark sections on a light page ====== */
.surface-dark, [data-surface="dark"]{ color:#fff; background:inherit }
.surface-dark :where(h1,h2,h3,h4,strong){color:#fff}
.surface-dark :where(p,li,figcaption,.sub,.fresh){color:rgba(255,255,255,.92)}
.surface-dark a{color:#bfdbfe}
.surface-dark a:visited{color:#d6bcfa}
.surface-dark .pill{background:transparent;border-color:rgba(255,255,255,.5);color:#fff}
.surface-dark .btn{background:#fff;color:#0b0f19;border-color:#fff}
.surface-dark .btn.primary{background:#fff;color:#0b0f19;border-color:#fff}

/* Text on image helper */
.text-on-image{position:relative;isolation:isolate}
.text-on-image::before{
  content:"";position:absolute;inset:0;z-index:0;
  background:linear-gradient(180deg,rgba(0,0,0,.55),rgba(0,0,0,.35));
}
.text-on-image > *{position:relative;z-index:1}

/* Increased contrast for users who ask for it */
@media (prefers-contrast: more){
  :root{
    --link:#1e3a8a; --link-visited:#581c87;
    --line:#94a3b8; --line-2:#64748b;
  }
  .card,.pill,.btn{border-width:2px}
}
